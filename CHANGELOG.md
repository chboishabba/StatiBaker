# Changelog

## 2026-02-06
- Expanded red-team plan with path traversal, DoS/resource exhaustion, and
  blast-radius constraints.
- Updated failure modes with explicit blast-radius definition and limits.
- Added optional base-path guard to the CLI query surface.
- Extended ITIR ingest contract and validation with explicit forbidden fields.
- Added red-team tests for query path-escape refusal and overlay state-field
  injection.
- Added OpenClaw integration doc with execution envelope contract and truth-substrate doctrine.
- Documented tool execution envelope ingestion format and references in core docs.
- Added multi-modal system doctrine for epistemic modes and authority boundaries.
- Added lawyer/psychologist user story boundary narratives.
- Extended user stories with additional role stress tests (banker/CEO/manager/etc.).
- Added organization-level user story layer (teams/admins/regulators).
- Added public sector user story layer (police/EMS/health/government guardrails).
- Added modern org stack user story layer (dev/team/CEO/finance).
- Added air-gapped/battlefield/interop user story layer.
- Added "Against Victor's Memory" doctrine to `DESIGN.md`.
- Added panopticon refusal manifesto.
- Added state power/structural violence note to panopticon refusal.
- Added activist coordination user story layer.
- Added trauma/authoritarian pressure user story layer.
- Added access-scope and legal reconstruction user story layer.
- Added judicial-context user story layer (judges/staff/bailiffs/family).
- Added public-figure user story (Zohran Mamdani context collapse).

## 2026-02-05
- Added Recall/OpenRecall notes, activity event layer, and sessionization rules to `CONTEXT.md`.
- Removed OpenRecall's hard `python-doctr` git pin to avoid dependency conflicts; keep `python-doctr` optional.
- Locked authority split for activity_events across SB/ITIR/OpenRecall in `CONTEXT.md`.
- Documented Recall-class capture substrate and policy gates in `DESIGN.md`.
- Clarified activity_event ownership and ITIR ingest rules in `DESIGN.md`.
- Added optional Recall-class TODOs for capture, activity events, and timeline UX in `TODO.md`.
- Added sessionizer, ledger, and ITIR ingest adapter TODOs for activity_events in `TODO.md`.
- Drafted ADR 0002 for Recall-class capture + activity events.
- Added authority split to ADR 0002.
- Added snapshot and activity_event schema stubs to `STATE_SCHEMA.json`.
- Added ADR index and referenced it from `README.md`.
- Added sample `snapshots` and `activity_events` to `SAMPLE_STATE.json`.
- Refreshed `COMPACTIFIED_CONTEXT.md` with activity_event ownership and authority split.
- Added sessionization spec in `SESSIONIZATION_SPEC.md`.
- Added deterministic sessionizer stub in `sb/activity/sessionize.py` with fixtures and tests.
- Added `SESSIONIZER_CONFIG.json` and config support in sessionizer.
- Added `Makefile` targets for sessionizer and tests.
- Added config validation for sessionizer settings.
- Added `Justfile` targets for sessionizer and tests.
- Added config validation tests and CLI error handling for sessionizer.
- Added CLI exit-code test fixture for invalid config.
- Documented observability sources (Prometheus/Graphite/Grafana, optional InfluxDB) in `README.md`, `DESIGN.md`, and `COMPACTIFIED_CONTEXT.md`.
- Added observability source notes in `OBSERVED_SIGNALS.md` and `TODO.md`.
- Added rolling window carryover counts to minimal fold outputs and `STATE_SCHEMA.json`.
- Added carryover window counts to `SAMPLE_STATE.json`.
- Included carryover deltas and window counts in generated daily briefs (`scripts/run_day.sh`).
- Added guard tests to ensure folds do not mutate event content or inject summaries.
- Ran multi-day replay outputs for deterministic carryover aging (2026-02-06 to 2026-02-08).
- Added Wazuh lifecycle adapter for structured system events.
- Added HTTP `/metrics` server over baked state outputs.
- Added determinism tests for Wazuh adapter and Prometheus summaries.
- Added OCR/Android/query/ITIR ingest contract docs plus ITIR overlay validation helper.
- Added drift counters output (`runs/<date>/outputs/drift.json`) with `DRIFT_SIGNALS.md`.
- Added Phase-2 compression (collapse of repeated `low_signal=true` events).
- Added read-only query CLI (`scripts/query_state.py`) and query helpers.
- Added bundle export/verify tooling and bundle spec.
- Documented time hygiene policy and failure modes.
- Added red-team boundary tests (re-segmentation rejection).
- Expanded red-team plan with DoS, provenance laundering, temporal confusion, and systemic dependency failure.
- Added red-team tests for RCE payload inertness, metric smuggling shape, env leakage, and bundle tamper detection.
- Added empty-repo handling in git adapter and inactivity run test.
- Added bundle export + verify replay test.
- Added compression expansion test, loss profile doc, and agent containment doc.
- Added Prometheus failure handling + bad-data run tests with missing labels.

## 2026-02-03
- Expanded SB docs with context prosthesis/ADHD framing, SITREP naming, explicit loss profiles, and read-only agent query surface.
- Added core SB/SL/TIRC question split and SB context-prosthesis invariants to docs.
- Clarified SB as a temporal reducer over ITIR/TIRC/SL references in `README.md` and `DESIGN.md`.
- Made normalization/compression TODOs concrete with atom/handle definitions, temporal reduction rules, adapters, and guard tests.
- Documented project intent, inputs/outputs, and anti-enshit principles in `README.md`.
- Added architecture and MVP staging notes in `DESIGN.md`.
- Added initial plan and open questions in `TODO.md`.
- Added compactified project context in `COMPACTIFIED_CONTEXT.md`.
- Added daily brief template in `BRIEF_TEMPLATE.md`.
- Added machine state schema in `STATE_SCHEMA.json` with synthetic sample in `SAMPLE_STATE.json`.
- Added append-only ingestion formats in `INGESTION_FORMATS.md`.
- Consolidated `README.md` into a single authoritative overview.
- Added OCR/screen capture guardrails in `SAFETY_OCR.md` and referenced them in `README.md` and `DESIGN.md`.
- Refreshed `COMPACTIFIED_CONTEXT.md` with epistemic invariants.
- Expanded `TODO.md` with fold, ADR, and safety governance work.
- Added `.planning/phase-0-docs-foundation.md`.
